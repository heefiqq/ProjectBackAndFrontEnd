@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>This test project</h1>
</div>

<div class="row">
    <div class="col-lg-1">
        <input type="button" class="btn btn-primary" value="Создать" id="createCustomer" />
    </div>
    <div class="col-lg-offset-12"></div>
    <div class="col-lg-12" id="panel"></div>
</div>


<script>
    var currentPage = @ViewBag.Page;

    $(document).ready(function () {

        fetchTableCustomers(currentPage);

        $('#panel').on('click', '.pager a', function (e) {
            e.preventDefault();
            currentPage = parseInt($(this).html());
            fetchTableCustomers(currentPage);
        })


        $('#createCustomer').on('click', function () {
            //отправляю запрос на сервак, получаю вёрстку, добавляю в конец страницы, открываю её, затем сохраняю также
            fetchModal('/Create', 'GET', 'addEditCustomerModal');
        })
    })

    function editCustomer(id) {
        fetchModal('/Edit', 'GET', 'addEditCustomerModal', id);
    }

    function deleteCustomer(id) {
        deleteData('/Delete', id, fetchTableCustomers)
    }
</script>